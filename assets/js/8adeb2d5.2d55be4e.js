"use strict";(self.webpackChunkhirusha=self.webpackChunkhirusha||[]).push([[3356],{3080:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>o});var l=s(1527),t=s(6213);const a={title:"Installation",sidebar_label:"Installation",slug:"installation"},i=void 0,r={id:"projects/gifgang/installation",title:"Installation",description:"Install and Setup all GifGang Services",source:"@site/docs/projects/gifgang/installation.md",sourceDirName:"projects/gifgang",slug:"/projects/gifgang/installation",permalink:"/docs/projects/gifgang/installation",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Installation",sidebar_label:"Installation",slug:"installation"},sidebar:"projects",previous:{title:"Discord Bot Guide",permalink:"/docs/projects/gifgang/discord-bot-guide"},next:{title:"Python Module",permalink:"/docs/projects/gifgang/python-module"}},d={},o=[{value:"Manual Installation",id:"manual-installation",level:2},{value:"Install and Setup MongoDB",id:"install-and-setup-mongodb",level:3},{value:"Install and Setup GifGang",id:"install-and-setup-gifgang",level:3},{value:"Setup Ngrok and setup SSL",id:"setup-ngrok-and-setup-ssl",level:3},{value:"Automated Installer",id:"automated-installer",level:2},{value:"Ubuntu",id:"ubuntu",level:3},{value:"Arch Linux",id:"arch-linux",level:3},{value:"Error?",id:"error",level:2}];function c(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"Install and Setup all GifGang Services"}),"\n",(0,l.jsx)(e.h2,{id:"manual-installation",children:"Manual Installation"}),"\n",(0,l.jsx)(e.admonition,{type:"info",children:(0,l.jsxs)(e.p,{children:["NOTE: This guide is written for  ",(0,l.jsx)(e.a,{href:"https://ubuntu.com/download/desktop",children:"Ubuntu"}),"/",(0,l.jsx)(e.a,{href:"https://ubuntu.com/download/server",children:"Ubuntu Server"})," \u200b"]})}),"\n",(0,l.jsx)(e.h3,{id:"install-and-setup-mongodb",children:"Install and Setup MongoDB"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Install"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo apt update && sudo apt upgrade -y\nsudo apt install mongodb -y\nsudo systemctl enable mongodb --now\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"Run this command and open the config file"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo nano /etc/mongodb.conf\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:["Change bind_ip from ",(0,l.jsx)(e.code,{children:"127.0.0.1"})," to ",(0,l.jsx)(e.code,{children:"0.0.0.0"})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"bind_ip = 0.0.0.0\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"run this command to restart mongo"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo systemctl restart mongodb\n"})}),"\n",(0,l.jsx)(e.p,{children:"MongoDB is now publicly accessible by the default Port and the Server IP. Now, create an account and enable authorization for security"}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:"Start MongoDB CLI"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"mongo\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:"Switch to the default pre-made admin database"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"use admin\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"7",children:["\n",(0,l.jsx)(e.li,{children:"Create a new user"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-mongodb",children:'db.createUser(\n{\nuser: "AdminUserName",\npwd: "SuperSecretPassword",\nroles: [ { role: "userAdminAnyDatabase", db: "admin" }, "readWriteAnyDatabase" ]\n}\n)\n'})}),"\n",(0,l.jsx)(e.p,{children:"The new user is created, Now, You have to make logging-in required"}),"\n",(0,l.jsxs)(e.ol,{start:"8",children:["\n",(0,l.jsx)(e.li,{children:"Open the config file"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo nano /etc/mongodb.conf\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"9",children:["\n",(0,l.jsx)(e.li,{children:"Edit the file content Ctrl+W to search"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-conf",children:"authorization: enabled\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"10",children:["\n",(0,l.jsx)(e.li,{children:"Restart MongoDB Service"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo systemctl restart mongod\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"11",children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Install ",(0,l.jsx)(e.a,{href:"https://www.mongodb.com/products/compass",children:"MongoDB Compass"})," on your computer and connect to the Database"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Create a database named GifGang and a collection named torrents inside that database"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"install-and-setup-gifgang",children:"Install and Setup GifGang"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Install main dependencies"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo apt update && sudo apt upgrade -y\nsudo apt install python3 python3-pip git nano -y\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"Create a seperate folder (Optional)"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"mkdir /GifGang && cd /GifGang\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"Clone the Git Repository"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'git clone "https://github.com/hirusha-adi/GifGang.git" && cd ./Gifang\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"Install Python dependencies"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"python3 -m pip install -r requirements.txt\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:"Edit the main configuration file"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"nano ./database/config.json\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:"Edit the admin settings file"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"nano ./database/admin/settings.json\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"7",children:["\n",(0,l.jsx)(e.li,{children:"Start the web app"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"python3 gifgang.py\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"8",children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"Ctrl+Z"})," and bg and ",(0,l.jsx)(e.code,{children:"disown -h"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Start the discord bot"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"python3 discord-bot.py\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"10",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"Ctrl+Z"})," and bg and ",(0,l.jsx)(e.code,{children:"disown -h"})]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"setup-ngrok-and-setup-ssl",children:"Setup Ngrok and setup SSL"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Install and start nginx"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"apt install nginx\nsystemctl enable nginx --now\nsystemctl start nginx\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"Open the default config file for the first time before setting up SSL"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"nano /etc/nginx/sites-enabled/default\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"Edit the default config file for the first time before setting up SSL"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-conf",children:"server {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n\u200b\n        server_name gifgang.net;\n\u200b\n        location / {\n                proxy_pass http://localhost:8080;\n        }\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"Load the new config"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"nginx -t\nnginx -s reload\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:"Install certbot"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo apt install certbot -y\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:"Stop nginx temporarily to setup certbot"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"systemctl stop nginx\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"7",children:["\n",(0,l.jsx)(e.li,{children:"Setup cerbot to get the key"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"certbot certonly --standalone --agree-tos -d gifgang.net,www.gifgang.net\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"8",children:["\n",(0,l.jsx)(e.li,{children:"Open the default config file for the second time with new SSL settings"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"nano /etc/nginx/sites-enabled/default\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"8",children:["\n",(0,l.jsx)(e.li,{children:"Open the default config file for the second time with new SSL settings"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-conf",children:"server {\n  listen 80 default_server;\n  listen [::]:80 default_server;\n\u200b\n  location / {\n    return 301 https://$host$request_uri;\n  }\n}\n\u200b\nserver {\n  listen 443 ssl;\n  listen [::]:443 ssl;\n  ssl_certificate     /etc/letsencrypt/live/gifgang.net/fullchain.pem;\n  ssl_certificate_key /etc/letsencrypt/live/gifgang.net/privkey.pem;\n\u200b\n  location / {\n    proxy_pass http://localhost:8080;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Forwarded-Protocol $scheme;\n    proxy_set_header X-Forwarded-Host $http_host;\n  }\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"9",children:["\n",(0,l.jsx)(e.li,{children:"Restart nginx"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"systemctl start nginx\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"10",children:["\n",(0,l.jsx)(e.li,{children:"Reload the new nginx configuration"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"nginx -t\nnginx -s reload\n"})}),"\n",(0,l.jsx)(e.h2,{id:"automated-installer",children:"Automated Installer"}),"\n",(0,l.jsx)(e.p,{children:"This cannot be 100% automated therefore user interaction is required"}),"\n",(0,l.jsx)(e.h3,{id:"ubuntu",children:"Ubuntu"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'wget "https://raw.githubusercontent.com/hirusha-adi/GifGang/installer/ubuntu/install.py" && python3 ./install.py\n'})}),"\n",(0,l.jsx)(e.h3,{id:"arch-linux",children:"Arch Linux"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'wget "https://raw.githubusercontent.com/hirusha-adi/GifGang/installer/arch/install.py" && python ./install.py\n'})}),"\n",(0,l.jsx)(e.h2,{id:"error",children:"Error?"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"I have an error while Installing. What should I do?"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Check if your issue in this list of most commonly encountable error list (Click to open the guide to fixing it) or use your common sense:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://exerror.com/sudo-pip3-command-not-found/",children:"pip3 command not found"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://stackoverflow.com/questions/40914108/bash-python3-command-not-found-windows-discord-py",children:"python3 command not found"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Enable the developer-mode"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Stop the program if it is already running"}),"\n",(0,l.jsxs)(e.li,{children:["Open the ",(0,l.jsx)(e.code,{children:"./database/config.json"})," file and set ",(0,l.jsx)(e.code,{children:'"dev_mode"'})," to true.","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:'json "dev_mode": true'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"Save the file"}),"\n",(0,l.jsx)(e.li,{children:"Restart the application"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Re-create the issue."}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Copy the log displayed in the console"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.a,{href:"https://github.com/hirusha-adi/GifGang/issues/new/choose",children:"Open an Issue"})," with the copied log"]}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}},6213:(n,e,s)=>{s.d(e,{Z:()=>r,a:()=>i});var l=s(959);const t={},a=l.createContext(t);function i(n){const e=l.useContext(a);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:i(n.components),l.createElement(a.Provider,{value:e},n.children)}}}]);